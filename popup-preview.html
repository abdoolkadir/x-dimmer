<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!--
    X DIMMER — POPUP PREVIEW / MOCKUP
    
    This file is a standalone HTML preview of the extension popup.
    It's used during development to iterate on the popup UI design
    without needing to load the full Chrome extension.
    
    Open this file directly in Chrome to see the popup design.
    It includes the exact same CSS from popup.css, inlined here for
    standalone viewing, plus some wrapper styling to center the popup
    on the page with a dark background simulating Chrome's popup frame.
    
    NOTE: The toggle doesn't actually control the extension here —
    it's purely visual for design iteration. The actual logic is in popup.js.
  -->
  <title>X Dimmer — Popup Preview</title>
  <style>
    /* Page wrapper to center the popup mockup */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: #0a0f14;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    }

    /* Simulated Chrome popup window frame */
    .preview-frame {
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 
        0 25px 50px rgba(0, 0, 0, 0.5),
        0 0 0 1px rgba(56, 68, 77, 0.3);
      width: 340px;
    }

    /* Label above the popup */
    .preview-label {
      text-align: center;
      color: #536471;
      font-size: 12px;
      margin-bottom: 12px;
      letter-spacing: 1px;
      text-transform: uppercase;
    }

    .preview-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
  </style>
  <!-- Include the actual popup CSS -->
  <link rel="stylesheet" href="popup/popup.css">
</head>
<body>
  <div class="preview-wrapper">
    <div class="preview-label">X Dimmer Extension Popup Preview</div>
    <div class="preview-frame">
      <!-- EXACT COPY of popup.html content (minus html/head/body wrappers) -->
      <div class="x-dimmer-popup-container">
        
        <div class="x-dimmer-popup-header">
          <div class="x-dimmer-popup-header-icon-and-title">
            <div class="x-dimmer-popup-moon-icon">
              <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21.752 15.002A9.718 9.718 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z" fill="#1D9BF0" stroke="#1D9BF0" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="x-dimmer-popup-title-group">
              <h1 class="x-dimmer-popup-title">X Dimmer</h1>
              <p class="x-dimmer-popup-subtitle">Bring back the Dim theme</p>
            </div>
          </div>
        </div>

        <div class="x-dimmer-popup-toggle-section">
          <div class="x-dimmer-popup-toggle-row">
            <div class="x-dimmer-popup-toggle-label-group">
              <span class="x-dimmer-popup-toggle-label">Dim Mode</span>
              <span class="x-dimmer-popup-toggle-status" id="dimmer-status-text">Active</span>
            </div>
            <label class="x-dimmer-popup-toggle-switch" for="dimmer-toggle-checkbox">
              <input type="checkbox" id="dimmer-toggle-checkbox" checked>
              <span class="x-dimmer-popup-toggle-slider"></span>
            </label>
          </div>
          <p class="x-dimmer-popup-toggle-description">
            Replaces the harsh pure-black "Lights Out" theme with the softer navy-blue "Dim" theme.
          </p>
        </div>

        <div class="x-dimmer-popup-preview-section">
          <p class="x-dimmer-popup-preview-label">Color comparison</p>
          <div class="x-dimmer-popup-preview-swatches">
            <div class="x-dimmer-popup-swatch-group">
              <div class="x-dimmer-popup-swatch x-dimmer-popup-swatch-lights-out">
                <span class="x-dimmer-popup-swatch-text">Aa</span>
              </div>
              <span class="x-dimmer-popup-swatch-name">Lights Out</span>
            </div>
            <div class="x-dimmer-popup-swatch-arrow">→</div>
            <div class="x-dimmer-popup-swatch-group">
              <div class="x-dimmer-popup-swatch x-dimmer-popup-swatch-dim">
                <span class="x-dimmer-popup-swatch-text">Aa</span>
              </div>
              <span class="x-dimmer-popup-swatch-name x-dimmer-popup-swatch-name-active">Dim</span>
            </div>
          </div>
        </div>

        <div class="x-dimmer-popup-footer">
          <span class="x-dimmer-popup-footer-text">v1.0.0 · Works on x.com</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Simple toggle preview script (no chrome.storage needed) -->
  <script>
    const toggle = document.getElementById('dimmer-toggle-checkbox');
    const statusText = document.getElementById('dimmer-status-text');
    const container = document.querySelector('.x-dimmer-popup-container');

    toggle.addEventListener('change', () => {
      if (toggle.checked) {
        statusText.textContent = 'Active';
        statusText.style.color = '#1D9BF0';
        container.classList.remove('x-dimmer-popup-disabled');
      } else {
        statusText.textContent = 'Inactive';
        statusText.style.color = '#71767B';
        container.classList.add('x-dimmer-popup-disabled');
      }
    });
  </script>
</body>
</html>
